# 📘 Next.js 16+ Ultimate Guide (초보자를 위한 완벽 가이드)

안녕하세요! 👋
이 문서는 **Next.js 16 (App Router)** 기반의 쇼핑몰 프로젝트인 **`nextjBase`**를 통해, Next.js의 핵심 개념부터 실무 레벨의 구현 방법까지 **아주 쉽게** 떠먹여 드리는 상세 설명서입니다.

**"코딩은 외우는 게 아니라 이해하는 것"**입니다.
이 가이드를 쭉 읽고 나면, 복잡해 보이던 코드가 **"아~ 이래서 이렇게 짠 거구나!"** 하고 보이기 시작할 겁니다.

---

## 📚 목차

1.  **시작하기 (내 컴퓨터에 깔아보자)**
2.  **프로젝트 구조 (파일이 왜 이렇게 많아?)**
3.  **핵심 개념 (이것만 알면 80% 끝)**
    *   App Router: 폴더가 곧 주소다
    *   서버 vs 클라이언트: 어디서 실행할까?
4.  **실전 구현 (코드는 어떻게 짤까?)**
    *   DB 다루기 (Prisma): SQL 몰라도 된다
    *   서버 액션 (Server Actions): API 안 만들어도 된다
    *   상태 관리 (Zustand): 장바구니가 기억하는 법
5.  **있어 보이는 기능 (Pro Level)**
    *   SEO: 구글 검색과 카톡 공유 썸네일
    *   404 페이지: 길 잃은 손님 챙기기

---

## 🚀 1. 시작하기 (Getting Started)

일단 내 컴퓨터에서 화면을 띄워봐야겠죠? 터미널에 아래 명령어를 한 줄씩 복사해서 붙여넣으세요.

```bash
# 1. 필요한 부품들(라이브러리) 다운로드
npm install

# 2. 데이터베이스 설정 (테이블 만들기)
npx prisma migrate dev --name init

# 3. 가짜 상품 데이터 채우기 (쇼핑몰이 텅 비어있으면 안 되니까)
node prisma/seed.js

# 4. 서버 켜기!
npm run dev
```

이제 인터넷 창을 켜고 `http://localhost:3000`에 들어가 보세요. 멋진 쇼핑몰이 떴나요? 축하합니다! 🎉

---

## 🏗️ 2. 프로젝트 구조 (파일이 왜 이렇게 많아?)

Next.js 13부터 바뀐 **App Router** 방식은 **"폴더 이름이 곧 인터넷 주소"**가 됩니다.

```text
src/
├── actions/        # [택배 기사님] DB에서 데이터를 꺼내오거나 저장하는 함수들
├── app/            # [웹사이트 지도] 여기가 진짜 핵심입니다!
│   ├── (shop)/     # 쇼핑몰 화면들 (주소에는 포함 안 됨)
│   ├── (auth)/     # 로그인 화면들 (주소에는 포함 안 됨)
│   ├── layout.tsx  # [액자] 헤더, 푸터처럼 모든 페이지에 공통으로 들어가는 것
│   └── page.tsx    # [그림] 실제 화면 내용
├── components/     # [레고 블록] 버튼, 카드 등 재사용할 조각들
├── lib/            # [도구함] DB 연결 설정, 상태 관리 도구 등
└── prisma/         # [설계도] 데이터베이스 모양(Schema) 정의
```

### 💡 괄호 폴더 `(folder)`는 뭐죠?
*   **(shop)**, **(auth)** 처럼 괄호로 감싼 폴더는 **주소(URL)에 영향을 주지 않습니다.**
*   **왜 쓰나요?** **레이아웃을 따로따로 주고 싶어서** 씁니다.
    *   쇼핑몰(`(shop)`)에는 헤더랑 푸터가 필요하지만,
    *   로그인(`(auth)`) 화면에는 깔끔하게 로고만 보여주고 싶으니까요.

---

## 🧠 3. 핵심 개념 (이것만 알면 80% 끝)

### 3-1. 서버 컴포넌트 vs 클라이언트 컴포넌트

Next.js를 처음 하면 제일 헷갈리는 부분입니다. 딱 정해드립니다.

| 구분 | 서버 컴포넌트 (기본) | 클라이언트 컴포넌트 (`"use client"`) |
| :--- | :--- | :--- |
| **비유** | **요리사 (주방)** | **서빙 직원 (홀)** |
| **하는 일** | 미리 데이터를 다 요리해서(HTML) 내보냄 | 손님의 요청(클릭, 입력)에 반응함 |
| **특징** | 빠르다. DB를 직접 만질 수 있다. | `useState`, `onClick` 같은 걸 쓸 수 있다. |
| **언제 써?** | **대부분 이거 쓰세요.** 상품 목록 보여줄 때 등. | **버튼 클릭, 로그인 폼** 등 상호작용이 필요할 때만. |

**💡 팁:** 일단 그냥 짜세요. 그러다 에러가 나면서 *"onClick은 서버에서 못 써요!"* 라고 하면, 그때 파일 맨 위에 `"use client"` 한 줄 추가하면 됩니다. 참 쉽죠?

---

## 🛠️ 4. 실전 구현 (코드는 어떻게 짤까?)

### 4-1. 데이터베이스 다루기 (Prisma)

SQL(`SELECT * FROM...`) 같은 거 몰라도 됩니다. 자바스크립트로 DB를 조작하는 마법의 도구 **Prisma**가 있으니까요.

*   **설정:** `prisma/schema.prisma` 파일에 "상품에는 제목이랑 가격이 있어"라고 적어두기만 하면 됩니다.
*   **사용법:**
    ```javascript
    // "야, DB야. product 테이블에서 다(findMany) 찾아와!"
    const products = await db.product.findMany();
    ```
    정말 직관적이죠?

### 4-2. 서버 액션 (Server Actions)

예전에는 "로그인 버튼 누름" -> "API에 요청 보냄" -> "API가 DB 확인" -> "응답" ... 과정이 복잡했습니다.
이제는 **서버 액션**이라는 함수 하나로 퉁칩니다.

*   **비유:** 프론트엔드가 DB 창고에 직접 들어갈 수는 없으니, **택배 기사님(Server Action)**을 부르는 겁니다.
*   **코드:** `src/actions/order-actions.ts` 같은 파일에 `"use server"`라고 적고 함수를 만듭니다. 그리고 버튼에서 그 함수를 바로 부르면 끝!

### 4-3. 장바구니 상태 관리 (Zustand)

*   **상태 관리?** A페이지에서 장바구니에 담았는데, B페이지 갔더니 장바구니가 비어있으면 안 되겠죠? 그래서 **공용 사물함(Store)**에 보관해야 합니다.
*   **Zustand:** 아주 가볍고 쉬운 사물함 라이브러리입니다.
*   **영구 저장:** 그냥 두면 새로고침 할 때 다 날아갑니다. 그래서 `persist`라는 기능을 써서 **브라우저 저장소(localStorage)**에 껌딱지처럼 붙여둡니다.

---

## 🌟 5. 있어 보이는 기능 (Pro Level)

### 5-1. SEO (검색 엔진 최적화)

"내 사이트가 구글에 안 나와요!", "카톡에 링크 보냈는데 사진이 안 떠요!" 😭
이걸 해결하는 게 **SEO**입니다.

Next.js는 `generateMetadata`라는 함수 하나만 만들어두면 알아서 해결해 줍니다.

*   **위치:** `src/app/(shop)/products/[category]/[slug]/page.tsx`
*   **하는 일:** 누가 이 페이지 링크를 공유하면, **DB에서 상품 사진과 제목을 싹 긁어와서** 예쁜 미리보기 카드를 만들어줍니다. 마케팅의 필수요소죠!

### 5-2. 404 페이지 (커스텀 에러 화면)

주소를 잘못 쳤을 때 삭막한 흰 화면 대신, "길을 잃으셨나요?" 하고 친절하게 홈 버튼을 보여주는 페이지입니다. (`src/app/not-found.tsx`)
이런 디테일 하나가 서비스의 퀄리티를 결정합니다.

---

이 가이드와 코드를 보면서 천천히 뜯어보세요.
"아, 이래서 이렇게 했구나!" 하고 무릎을 치는 순간이 반드시 올 겁니다.
당신은 이미 훌륭한 개발자입니다! 화이팅! 🚀

---
*Created by Gemini CLI Agent*
